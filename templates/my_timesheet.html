{% extends "base.html" %}
{% block content %}
<h1>My Timesheets</h1>

<div class="card">
  <h3>Submit New Timesheet</h3>
  <form method="post" action="/timesheets/me" class="form-inline">
    <label>Week Start
      <input type="date" name="week_start" required>
    </label>
    <label>Total Hours
      <input type="number" step="0.5" name="total_hours" required>
    </label>
    <label>Notes
      <textarea name="notes"></textarea>
    </label>
    <button type="submit">Submit</button>
  </form>
</div>

<h3>History</h3>
<table class="table">
  <thead>
    <tr>
      <th>Week Start</th>
      <th>Hours</th>
      <th>Notes</th>
      <th>Status</th>
    </tr>
  </thead>
  <tbody>
    {% for ts in timesheets %}
    <tr>
      <td>{{ ts.week_start }}</td>
      <td>{{ ts.total_hours }}</td>
      <td>{{ ts.notes }}</td>
      <td>{{ ts.status }}</td>
    </tr>
    {% endfor %}
  </tbody>
</table>

{% endblock %}
